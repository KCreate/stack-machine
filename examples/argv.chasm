entry:

  ; load argc into r0
  load 1
  pop %r0

  ; accumulator in r1
  loadr %r1 2 ; skip argc

  ; max index for the accumulator to reach
  mov %r0 %r2
  incr %r2
  incr %r2

loop:

  ; bail out if we printed all arguments
  pushr %r1
  pushr %r2
  cmp
  jz @exit

  ; load the value at fp + [%r1]
  rload %r1
  ptop

  ; increment the counter
  incr %r1

  ; loop
  jmp @loop
exit:
  push 0
  halt
