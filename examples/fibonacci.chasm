entry:

  ; initialize context
  loadr %r0 10 ; counter
  loadr %r1 0 ; current
  loadr %r2 1 ; next

loop:

  ; print state
  preg %r2

  ; add
  pushr %r1
  pushr %r2
  add

  ; replace old value
  mov %r2 %r1
  pop %r2

  ; update the counter
  decr %r0

  ; loop if r0 is not zero
  pushr %r0
  jnz @loop

  ; exit
  push 0
  halt
